<!DOCTYPE html>
<html lang="es-AR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#0a0008">
  <title>Control — TANGO MAGENTA</title>
  <meta name="description" content="La cabina. Métricas vivas, estado del sistema, el pulso de todo lo que emitimos.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=DM+Sans:wght@300;400;500&family=JetBrains+Mono:wght@300;400&family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../design/tango.css">
</head>
<body>

  <!-- ═══ Cabecera ═══ -->
  <section class="espacio-centro" aria-label="Control">
    <p class="susurro latido">4F</p>
    <h1 class="monumento mt-md">Control Room</h1>
    <p class="voz mt-lg">
      Claude + Chrome.<br>
      El <span class="magenta">pulso</span> del sistema.
    </p>
    <span class="ko mt-sm">자동화와 메트릭스. 시스템의 심장.</span>
  </section>

  <!-- ═══ System Status ═══ -->
  <section class="espacio--compact" aria-label="Estado del sistema">
    <p class="susurro revelar">ESTADO DEL SISTEMA</p>

    <div class="tarjeta revelar mt-lg">
      <div class="info-linea">
        <span class="info-clave">SIGNAL</span>
        <span class="info-valor info-valor--vivo">● EN VIVO</span>
      </div>
      <div class="info-linea">
        <span class="info-clave">BPM</span>
        <span class="info-valor info-valor--gold">70</span>
      </div>
      <div class="info-linea">
        <span class="info-clave">CAPAS</span>
        <span class="info-valor">5 / 5</span>
      </div>
      <div class="info-linea">
        <span class="info-clave">PROTOCOLO</span>
        <span class="info-valor">BODY v3.0</span>
      </div>
      <div class="info-linea">
        <span class="info-clave">IDIOMA</span>
        <span class="info-valor">es-AR + ko</span>
      </div>
    </div>
  </section>

  <!-- ═══ Métricas ═══ -->
  <section class="espacio--compact" aria-label="Métricas">
    <p class="susurro revelar">MÉTRICAS</p>

    <article class="tarjeta revelar mt-lg">
      <h2 class="tarjeta-titulo" style="color: var(--magenta);">Emisiones</h2>
      <p class="monumento mt-sm" style="font-size: 3rem;" id="metric-emisiones">—</p>
      <p class="tarjeta-texto">Transmisiones totales</p>
    </article>

    <article class="tarjeta revelar">
      <h2 class="tarjeta-titulo" style="color: var(--gold);">Gestos</h2>
      <p class="monumento mt-sm" style="font-size: 3rem;" id="metric-gestos">—</p>
      <p class="tarjeta-texto">Gestos en el motor</p>
    </article>

    <article class="tarjeta revelar">
      <h2 class="tarjeta-titulo" style="color: var(--flesh);">Legados</h2>
      <p class="monumento mt-sm" style="font-size: 3rem;" id="metric-legados">—</p>
      <p class="tarjeta-texto">Entradas en el archivo</p>
    </article>
  </section>

  <!-- ═══ Arquitectura ═══ -->
  <section class="espacio--compact" aria-label="Arquitectura">
    <p class="susurro revelar">ARQUITECTURA</p>
    <div class="codigo revelar mt-xl">
      <span style="color: var(--magenta);">1F</span> ACADEMIA &nbsp;&nbsp;&nbsp;&nbsp;→ offline.revenue<br>
      <span style="color: var(--magenta);">2F</span> TUTORIAL &nbsp;&nbsp;&nbsp;&nbsp;→ zoom-in.body<br>
      <span style="color: var(--magenta);">3F</span> GESTURE LAB → body.protocol<br>
      <span style="color: var(--magenta);">4F</span> CONTROL &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <span style="color: var(--gold);">current.layer</span><br>
      <span style="color: var(--magenta);">5F</span> STRATEGY &nbsp;&nbsp;&nbsp;&nbsp;→ expansion.plan
    </div>
  </section>

  <!-- ═══ HQ ═══ -->
  <section class="espacio--compact" aria-label="HQ Connection">
    <p class="susurro revelar">HQ CONNECTION</p>
    <div class="tarjeta revelar mt-lg">
      <div class="info-linea">
        <span class="info-clave">BRIDGE</span>
        <span class="info-valor info-valor--vivo">● CONNECTED</span>
      </div>
      <div class="info-linea">
        <span class="info-clave">BRANCH</span>
        <span class="info-valor">tango-magenta</span>
      </div>
      <div class="info-linea">
        <span class="info-clave">SDK</span>
        <span class="info-valor">v3.0</span>
      </div>
    </div>
  </section>

  <!-- ═══ Navegación ═══ -->
  <section class="espacio-centro revelar" aria-label="Navegación">
    <a href="../" class="puerta">← Volver</a>
  </section>

  <footer class="pie" role="contentinfo">
    <p class="pie-marca">TANGO MAGENTA</p>
    <p class="pie-copy">Control — El pulso vivo</p>
  </footer>

  <script src="../design/body-protocol.js"></script>
  <script>
    async function loadMetrics() {
      try {
        const [gestures, legacy] = await Promise.all([
          fetch('../api/gestures.json').then(r => r.json()).catch(() => ({ gestures: [] })),
          fetch('../api/legacy.json').then(r => r.json()).catch(() => ({ entries: [] }))
        ]);
        document.getElementById('metric-emisiones').textContent = '∞';
        document.getElementById('metric-gestos').textContent = gestures.gestures ? gestures.gestures.length : '0';
        document.getElementById('metric-legados').textContent = legacy.entries ? legacy.entries.length : '0';
      } catch (e) { /* silent */ }
    }
    document.addEventListener('DOMContentLoaded', loadMetrics);
  </script>
  <script src="https://dtslib1979.github.io/dtslib-branch/hq/sdk/dtslib-bridge.js"></script>
</body>
</html>
